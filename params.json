{"body":"<pre>\r\n   ┌─────────────────────────────────────────────────────────────┐\r\n   │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│\r\n   │▓                                                           ▓│\r\n   │▓  ██  ██▀▀██  ██▀██  ███ ██ ██    ██ ██████ ██▀▀██ ██      ▓│\r\n   │▓  ██ ██    ▀ ██   ██ ██████  ██  ██  ██▄▄   ██▄▄██ ██      ▓│\r\n   │▓  ██ ██      ██   ██ ██ ███   ████   ██▀▀   ██▀██  ██   ▄  ▓│\r\n   │▓  ██  ██▄▄██  ██▄██  ██  ██    ██    ██████ ██  ██ ██▄▄██  ▓│\r\n   │▓                                                           ▓│\r\n   │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│\r\n   └─────────────────────────────────────────────────────────────┘\r\n</pre>\r\n\r\nAbout\r\n=====\r\n\r\nI needed access to iconv from glibc. After trying the very buggy erlang-iconv (it segfaults). I tried iconverl it seemed to work great, until we (my colleague and I) ran into some problems where it would sometimes return {error, eilseq} instead of the result for the same input (one that was previously successful). \r\n\r\nThis prompted me to write a replacement. I tried to get it pulled by the original author since it implements an almost identical interface. But he decided that there was no bug since he couldn't reproduce it on his system!? This has now occured on two completely different environments (Ubuntu 12.04 LTS 64bit and Gentoo). \r\n\r\nSo if you are like me and don't like to have your super fault-tolerant production systems running buggy code you'll run this module and not the other two alternatives.\r\n\r\nCompilation\r\n===========\r\n\r\n<pre>\r\nmake\r\n</pre>\r\n\r\nUsage\r\n=====\r\n\r\n<pre>\r\n1> CD = iconverl:open(\"ucs-2be\", \"utf-8\").\r\n{cd, \"ucs-2be\", \"utf-8\"};\r\n2> iconverl:conv(CD, &lt;&lt;\"text\"&gt;&gt;).\r\n{ok,&lt;&lt;0,116,0,101,0,120,0,116&gt;&gt;}\r\n3> iconverl:conv(CD, &lt;&lt;\"more text to convert\"&gt;&gt;).\r\n{ok,&lt;&lt;0,109,0,111,0,114,0,101,0,32,0,116,0,101,0,120,0,\r\n      116,0,32,0,116,0,111,0,32,0,...&gt;&gt;}\r\n4> iconverl:conv(\"ucs-4\", \"latin1\", \r\n   &lt;&lt;\"convert with a single function call\"&gt;&gt;).\r\n{ok,&lt;&lt;0,0,0,99,0,0,0,111,0,0,0,110,0,0,0,118,0,0,0,101,0,\r\n      0,0,114,0,0,0,...&gt;&gt;}\r\n</pre>\r\n","google":"","tagline":"Erlang libiconv binding (This one is a pure function with no side effects and is actively maintained)","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Iconverl"}